"use client";

import React, { forwardRef, useRef } from "react";
import Image from "next/image";
import { cn } from "@/lib/utils";
import { AnimatedBeam } from "@/components/ui/animated-beam";

const Circle = forwardRef<
    HTMLDivElement,
    { className?: string; children?: React.ReactNode }
>(({ className, children }, ref) => {
    return (
        <div
            ref={ref}
            className={cn(
                "z-10 flex size-12 md:size-14 items-center justify-center rounded-full border border-neutral-200 bg-white p-2.5 shadow-lg",
                className,
            )}
        >
            {children}
        </div>
    );
});

Circle.displayName = "Circle";

// Tech icons as SVG components
const Icons: Record<string, () => React.ReactElement> = {
    react: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#61DAFB">
            <path d="M12 10.11c1.03 0 1.87.84 1.87 1.89 0 1-.84 1.85-1.87 1.85S10.13 13 10.13 12c0-1.05.84-1.89 1.87-1.89M7.37 20c.63.38 2.01-.2 3.6-1.7-.52-.59-1.03-1.23-1.51-1.9a22.7 22.7 0 0 1-2.4-.36c-.51 2.14-.32 3.61.31 3.96m.71-5.74-.29-.51c-.11.29-.22.58-.29.86.27.06.57.11.88.16l-.3-.51m6.54-.76.81-1.5-.81-1.5c-.3-.53-.62-1-.91-1.47C13.17 9 12.6 9 12 9s-1.17 0-1.71.03c-.29.47-.61.94-.91 1.47L8.57 12l.81 1.5c.3.53.62 1 .91 1.47.54.03 1.11.03 1.71.03s1.17 0 1.71-.03c.29-.47.61-.94.91-1.47M12 6.78c-.19.22-.39.45-.59.72h1.18c-.2-.27-.4-.5-.59-.72m0 10.44c.19-.22.39-.45.59-.72h-1.18c.2.27.4.5.59.72M16.62 4c-.62-.38-2 .2-3.59 1.7.52.59 1.03 1.23 1.51 1.9.82.08 1.63.2 2.4.36.51-2.14.32-3.61-.32-3.96m-.7 5.74.29.51c.11-.29.22-.58.29-.86-.27-.06-.57-.11-.88-.16l.3.51m1.45-7.05c1.47.84 1.63 3.05 1.01 5.63 2.54.75 4.37 1.99 4.37 3.68s-1.83 2.93-4.37 3.68c.62 2.58.46 4.79-1.01 5.63-1.46.84-3.45-.12-5.37-1.95-1.92 1.83-3.91 2.79-5.38 1.95-1.46-.84-1.62-3.05-1-5.63-2.54-.75-4.37-1.99-4.37-3.68s1.83-2.93 4.37-3.68c-.62-2.58-.46-4.79 1-5.63 1.47-.84 3.46.12 5.38 1.95 1.92-1.83 3.91-2.79 5.37-1.95M17.08 12c.34.75.64 1.5.89 2.26 2.1-.63 3.28-1.53 3.28-2.26s-1.18-1.63-3.28-2.26c-.25.76-.55 1.51-.89 2.26M6.92 12c-.34-.75-.64-1.5-.89-2.26-2.1.63-3.28 1.53-3.28 2.26s1.18 1.63 3.28 2.26c.25-.76.55-1.51.89-2.26m9 2.26-.3.51c.31-.05.61-.1.88-.16-.07-.28-.18-.57-.29-.86l-.29.51m-9.82 1.49c.78-.16 1.58-.28 2.4-.36.48-.67.99-1.31 1.51-1.9-1.59-1.5-2.97-2.08-3.59-1.7-.64.35-.83 1.82-.32 3.96m9.72-10.24c-.78.16-1.58.28-2.4.36-.48.67-.99 1.31-1.51 1.9 1.59 1.5 2.97 2.08 3.59 1.7.64-.35.83-1.82.32-3.96" />
        </svg>
    ),
    nextjs: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#000000">
            <path d="M11.572 0c-.176 0-.31.001-.358.007a19.76 19.76 0 0 1-.364.033C7.443.346 4.25 2.185 2.228 5.012a11.875 11.875 0 0 0-2.119 5.243c-.096.659-.108.854-.108 1.747s.012 1.089.108 1.748c.652 4.506 3.86 8.292 8.209 9.695.779.251 1.6.422 2.534.525.363.04 1.935.04 2.299 0 1.611-.178 2.977-.577 4.323-1.264.207-.106.247-.134.219-.158-.02-.013-.9-1.193-1.955-2.62l-1.919-2.592-2.404-3.558a338.739 338.739 0 0 0-2.422-3.556c-.009-.002-.018 1.579-.023 3.51-.007 3.38-.01 3.515-.052 3.595a.426.426 0 0 1-.206.214c-.075.037-.14.044-.495.044H7.81l-.108-.068a.438.438 0 0 1-.157-.171l-.05-.106.006-4.703.007-4.705.072-.092a.645.645 0 0 1 .174-.143c.096-.047.134-.051.54-.051.478 0 .558.018.682.154.035.038 1.337 1.999 2.895 4.361a10760.433 10760.433 0 0 0 4.735 7.17l1.9 2.879.096-.063a12.317 12.317 0 0 0 2.466-2.163 11.944 11.944 0 0 0 2.824-6.134c.096-.66.108-.854.108-1.748 0-.893-.012-1.088-.108-1.747-.652-4.506-3.859-8.292-8.208-9.695a12.597 12.597 0 0 0-2.499-.523A33.119 33.119 0 0 0 11.572 0zm4.069 7.217c.347 0 .408.005.486.047a.473.473 0 0 1 .237.277c.018.06.023 1.365.018 4.304l-.006 4.218-.744-1.14-.746-1.14v-3.066c0-1.982.01-3.097.023-3.15a.478.478 0 0 1 .233-.296c.096-.05.13-.054.5-.054z" />
        </svg>
    ),
    angular: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#DD0031">
            <path d="M9.931 12.645h4.138l-2.07-4.908m0-7.737L.68 3.982l1.726 14.771L12 24l9.596-5.242L23.32 3.984 11.999.001zm7.064 18.31h-2.638l-1.422-3.503H8.996l-1.422 3.504h-2.64L12 2.65z" />
        </svg>
    ),
    vue: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#4FC08D">
            <path d="M24 1.61h-9.94L12 5.16 9.94 1.61H0l12 20.78ZM12 14.08 5.16 2.23h4.43L12 6.41l2.41-4.18h4.43Z" />
        </svg>
    ),
    nodejs: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#339933">
            <path d="M11.998 24c-.321 0-.641-.084-.922-.247L8.14 22.016c-.438-.245-.224-.332-.08-.383.585-.204.703-.25 1.328-.604.065-.036.151-.022.218.017l2.256 1.339c.082.045.198.045.275 0l8.795-5.076c.082-.047.134-.141.134-.238V6.921c0-.099-.053-.193-.137-.242l-8.791-5.072c-.081-.047-.189-.047-.271 0L3.075 6.68c-.085.049-.139.144-.139.243v10.15c0 .097.054.189.139.235l2.409 1.392c1.307.654 2.108-.116 2.108-.891V7.787c0-.142.114-.253.256-.253h1.115c.139 0 .255.111.255.253v10.021c0 1.745-.95 2.745-2.604 2.745-.509 0-.909 0-2.026-.551L2.28 18.675c-.57-.329-.922-.943-.922-1.604V6.921c0-.66.352-1.274.922-1.603L11.076.242c.558-.318 1.303-.318 1.847 0l8.794 5.076c.57.329.924.943.924 1.603v10.15c0 .66-.354 1.273-.924 1.604l-8.794 5.076c-.281.163-.6.249-.922.249z" />
        </svg>
    ),
    php: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#777BB4">
            <path d="M7.01 10.207h-.944l-.515 2.648h.838c.556 0 .97-.105 1.242-.314.272-.21.455-.559.55-1.049.092-.47.05-.802-.124-.995-.175-.193-.523-.29-1.047-.29zM12 5.688C5.373 5.688 0 8.514 0 12s5.373 6.313 12 6.313S24 15.486 24 12c0-3.486-5.373-6.312-12-6.312zm-3.26 7.451c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164H5.357l-.327 1.681H3.652l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.476 1.002.33 1.752a2.836 2.836 0 0 1-.349.883c-.167.27-.39.514-.668.73zm4.608-2.588l-.263 1.349c-.053.266-.058.453-.019.558.04.105.135.178.284.22.149.04.347.061.595.061h.964l-.263 1.351h-1.17c-.673 0-1.152-.109-1.437-.327-.285-.218-.383-.59-.293-1.117l.34-1.746h-.727l.263-1.351h.727l.166-.855h1.378l-.166.855h.964l-.263 1.002h-.08zm5.89 2.588c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164h-1.18l-.327 1.681h-1.378l1.23-6.326h2.649c.797 0 1.378.209 1.744.628.366.418.476 1.002.33 1.752a2.836 2.836 0 0 1-.349.883c-.167.27-.39.514-.668.73zm-.584-1.601c.092-.47.05-.802-.124-.995-.175-.193-.523-.29-1.047-.29h-.944l-.515 2.648h.838c.556 0 .97-.105 1.242-.314.272-.21.455-.559.55-1.049z" />
        </svg>
    ),
    mysql: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#4479A1">
            <path d="M16.405 5.676c-.115 0-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77 18.87h-.927a50.854 50.854 0 0 0-.27-4.41h-.008l-1.41 4.41H2.45l-1.4-4.41h-.01a72.892 72.892 0 0 0-.195 4.41H0c.055-1.966.192-3.81.41-5.53h1.15l1.335 4.064h.008l1.347-4.064h1.095c.242 2.015.384 3.86.428 5.53zm4.017-4.08c-.378 2.045-.876 3.533-1.492 4.46-.482.716-1.01 1.073-1.583 1.073-.16 0-.36-.047-.6-.14v-.493c.116.016.233.024.35.024.243 0 .453-.07.627-.207.178-.138.267-.316.267-.533 0-.138-.05-.35-.15-.635L5.783 14.79h.86l.903 2.9c.19.616.33 1.068.414 1.353.07-.28.168-.68.298-1.19l.72-3.063h.828zm10.498 4.08h-2.835v-5.53h.818v4.846h2.017v.684zm-5.08-.687c-.38.12-.797.183-1.257.183-.723 0-1.28-.193-1.675-.575-.395-.382-.594-.898-.594-1.545 0-.72.237-1.306.717-1.756.48-.45 1.1-.676 1.86-.676.39 0 .73.06 1.02.182v.74a2.61 2.61 0 0 0-.99-.218c-.48 0-.867.147-1.16.436-.293.29-.44.677-.44 1.16 0 .47.125.84.38 1.116.256.276.6.414 1.032.414.243 0 .52-.058.83-.175v.715zm-2.06-6.124l-3.047 8.21h-.753l3.02-8.21h.78zm10.312 2.127c0 .658-.2 1.21-.603 1.65-.4.443-.958.665-1.666.665-.338 0-.643-.05-.913-.15v-.734c.273.13.57.196.887.196.43 0 .765-.122 1.003-.363s.356-.577.356-1.01c0-.407-.105-.72-.316-.935-.21-.213-.54-.32-.99-.32-.14 0-.34.018-.6.06V10.29l2.44-.007v.692h-1.72v1.24c.11-.01.23-.015.36-.015.527 0 .94.142 1.24.425.3.283.45.68.45 1.19zm-2.193 5.166c.056-.108.107-.216.158-.326.05-.11.096-.225.14-.345h.002c.003.103.035.188.094.258.058.07.133.12.224.148.09.03.182.044.275.044.177 0 .341-.05.493-.148s.276-.243.372-.436c.045-.092.086-.19.124-.293a2.58 2.58 0 0 0 .088-.33h-.003c.093.124.21.22.35.286a.978.978 0 0 0 .428.1c.193 0 .373-.044.54-.13.168-.087.31-.207.427-.358a1.65 1.65 0 0 0 .267-.52 2.13 2.13 0 0 0 .092-.622c0-.208-.03-.402-.09-.58a1.3 1.3 0 0 0-.258-.456 1.16 1.16 0 0 0-.406-.3 1.24 1.24 0 0 0-.528-.108c-.177 0-.338.03-.484.092s-.273.148-.38.258a1.22 1.22 0 0 0-.256.394 1.42 1.42 0 0 0-.094.507c0 .122.018.245.054.368.036.123.088.237.155.343a1.1 1.1 0 0 0 .264.282c.107.082.232.134.374.156-.05.117-.108.228-.172.334-.064.107-.137.203-.218.288-.082.085-.173.152-.274.2s-.214.072-.34.072c-.115 0-.21-.02-.285-.063a.528.528 0 0 1-.18-.163.62.62 0 0 1-.094-.228 1.1 1.1 0 0 1-.03-.257c0-.137.017-.275.05-.414.034-.14.086-.273.156-.4.07-.127.16-.24.268-.34s.234-.175.378-.224v-.006c-.12-.023-.232-.07-.337-.14a1.12 1.12 0 0 1-.263-.236 1.06 1.06 0 0 1-.172-.312 1.12 1.12 0 0 1-.062-.376z" />
        </svg>
    ),
    mongodb: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#47A248">
            <path d="M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0 1 11.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 0 0 3.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z" />
        </svg>
    ),
    postgresql: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#4169E1">
            <path d="M23.5594 14.7228a.5269.5269 0 0 0-.0563-.1191c-.139-.2632-.4768-.3418-1.0074-.2321-1.6533.3408-2.0508-.4324-2.1519-.7428.9383-1.3691 1.7356-2.9521 2.3054-4.6076.1528-.4434.2885-.8849.4101-1.3287.7569.0674 1.5057-.4768 1.7229-1.243.2166-.7647-.1718-1.5707-.8679-1.7993-.2543-.0834-.5257-.0825-.7732.0013v-.0014c.0017-.0517.0068-.1036.0068-.1557 0-1.8377-.7553-3.5316-2.1274-4.7704C19.8044.6556 17.9628 0 16.0294 0c-1.9287 0-3.7684.6533-5.1822 1.8397-.2136-.0252-.4264-.0378-.6401-.0378-1.7633 0-3.4218.6901-4.6694 1.9433C4.292 4.9985 3.6 6.6608 3.6 8.4271c0 .0523.0033.1042.0052.1564-.3014-.0511-.6103-.0264-.8934.0767-.6961.2543-.7935 1.0915-.577 1.8566.2114.7478.9608 1.2643 1.7064 1.1775.1186.3737.2512.7453.3959 1.1128l-.0005.0004c-1.1432 2.0324-1.0227 4.8442.4636 6.3698.3943.405.8509.6942 1.3551.8729z" />
        </svg>
    ),
    graphql: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#E10098">
            <path d="M12.002 0a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm8.54 4.931a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm0 9.862a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm-8.54 4.931a2.138 2.138 0 1 0 0 4.276 2.138 2.138 0 1 0 0-4.276zm-8.542-4.93a2.138 2.138 0 1 0 0 4.276 2.138 2.138 0 1 0 0-4.277zm0-9.863a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm8.542-3.378L2.953 6.777v10.448l9.049 5.224 9.047-5.224V6.777zm0 1.601l7.66 13.27H4.34zm-1.387.371L3.97 15.037V7.363zm2.774 0l6.646 3.838v7.674zM5.355 17.44h13.293l-6.646 3.838z" />
        </svg>
    ),
    aws: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#FF9900">
            <path d="M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335a.383.383 0 0 1-.208.072c-.08 0-.16-.04-.239-.112a2.47 2.47 0 0 1-.287-.375 6.18 6.18 0 0 1-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.67 0-1.205-.191-1.596-.574-.391-.384-.59-.894-.59-1.533 0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583c0-.607-.127-1.03-.375-1.277-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103-.295.072-.583.16-.862.272a2.287 2.287 0 0 1-.28.104.488.488 0 0 1-.127.023c-.112 0-.168-.08-.168-.247v-.391c0-.128.016-.224.056-.28a.597.597 0 0 1 .224-.167c.279-.144.614-.264 1.005-.36a4.84 4.84 0 0 1 1.246-.151c.95 0 1.644.216 2.091.647.439.43.662 1.085.662 1.963v2.586zM21.698 16.207c-2.626 1.94-6.442 2.969-9.722 2.969-4.598 0-8.74-1.7-11.87-4.526-.247-.223-.024-.527.27-.351 3.384 1.963 7.559 3.153 11.877 3.153 2.914 0 6.114-.607 9.06-1.852.439-.2.814.287.385.607zM22.792 14.961c-.336-.43-2.22-.207-3.074-.103-.255.032-.295-.192-.063-.36 1.5-1.053 3.967-.75 4.254-.399.287.36-.08 2.826-1.485 4.007-.215.184-.423.088-.327-.151.32-.79 1.03-2.57.695-2.994z" />
        </svg>
    ),
    azure: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#0078D4">
            <path d="M5.483 21.3H24L14.025 4.013l-3.038 8.347 5.836 6.938L5.483 21.3zM13.23 2.7L6.105 8.677 0 19.253h5.505v.014L13.23 2.7z" />
        </svg>
    ),
    gcp: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#4285F4">
            <path d="M12.19 2.38a9.344 9.344 0 0 0-9.234 6.893c.053-.02-.055.013 0 0-3.875 2.551-3.922 8.11-.247 10.941l.006-.007-.007.03a6.717 6.717 0 0 0 4.077 1.356h5.173l.03.03h5.192c6.687.053 9.376-8.605 3.835-12.35a9.365 9.365 0 0 0-8.825-6.893zM8.073 19.215a4.413 4.413 0 0 1-2.56-1.09l-.018.017.007-.006a4.079 4.079 0 0 1-.768-5.119l.007-.006c.004.004-.004.003 0 0a4.2 4.2 0 0 1 3.525-2.053c.377 0 .751.053 1.112.158L6.52 7.984l.003-.003a7.046 7.046 0 0 1 5.668-2.86 7.043 7.043 0 0 1 5.672 2.863l.003.003-2.86 3.127a4.217 4.217 0 0 1 3.535 2.053c.003-.003-.003.003 0 0l.007.006a4.08 4.08 0 0 1-.769 5.12l.007.005-.018-.017a4.413 4.413 0 0 1-2.559 1.09l.006.036H8.067z" />
        </svg>
    ),
    docker: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#2496ED">
            <path d="M13.983 11.078h2.119a.186.186 0 0 0 .186-.185V9.006a.186.186 0 0 0-.186-.186h-2.119a.185.185 0 0 0-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 0 0 .186-.186V3.574a.186.186 0 0 0-.186-.185h-2.118a.185.185 0 0 0-.185.185v1.888c0 .102.082.185.185.186m0 2.716h2.118a.187.187 0 0 0 .186-.186V6.29a.186.186 0 0 0-.186-.185h-2.118a.185.185 0 0 0-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 0 0 .184-.186V6.29a.185.185 0 0 0-.185-.185H8.1a.185.185 0 0 0-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 0 0 .185-.186V6.29a.185.185 0 0 0-.185-.185H5.136a.186.186 0 0 0-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 0 0 .186-.185V9.006a.186.186 0 0 0-.186-.186h-2.118a.185.185 0 0 0-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 0 0 .184-.185V9.006a.185.185 0 0 0-.184-.186h-2.12a.185.185 0 0 0-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 0 0 .185-.185V9.006a.185.185 0 0 0-.184-.186h-2.12a.186.186 0 0 0-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 0 0 .184-.185V9.006a.185.185 0 0 0-.184-.186h-2.12a.185.185 0 0 0-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 0 0-.75.748 11.376 11.376 0 0 0 .692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 0 0 3.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z" />
        </svg>
    ),
    payment: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#635BFF">
            <path d="M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.975 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.591-7.305z" />
        </svg>
    ),
    erp: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#00A1E0">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
        </svg>
    ),
    crm: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#00A1E0">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
        </svg>
    ),
    pim: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#6B7280">
            <path d="M20 6h-8l-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6 10H6v-2h8v2zm4-4H6v-2h12v2z" />
        </svg>
    ),
    kafka: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#231F20">
            <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm.044 4.312c.695 0 1.258.563 1.258 1.259 0 .695-.563 1.258-1.258 1.258-.696 0-1.26-.563-1.26-1.258 0-.696.564-1.26 1.26-1.26z" />
        </svg>
    ),
    auth0: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#EB5424">
            <path d="M21.98 7.448L19.62 0H4.347L2.02 7.448c-1.352 4.312.03 9.206 3.815 12.015L12.007 24l6.157-4.552c3.755-2.81 5.182-7.688 3.815-12.015z" />
        </svg>
    ),
    prometheus: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#E6522C">
            <path d="M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12s12-5.373 12-12c0-6.628-5.373-12-12-12zm0 22.46c-1.885 0-3.414-1.574-3.414-3.516h6.828c0 1.942-1.529 3.516-3.414 3.516z" />
        </svg>
    ),
    kubernetes: () => (
        <svg viewBox="0 0 24 24" className="w-6 h-6 md:w-7 md:h-7" fill="#326CE5">
            <path d="M10.204 14.35l.007.01-.999 2.413a5.171 5.171 0 0 1-2.075-2.597l2.578-.437.004.005a.44.44 0 0 1 .484.606z" />
        </svg>
    ),
};

// Default tech items for Custom Software Development
const defaultLeftTechItems = [
    { label: "React / Next.js", icon: "react", color: "#61DAFB" },
    { label: "Node.js / Python", icon: "nodejs", color: "#339933" },
    { label: "Postgres / Mongo", icon: "postgresql", color: "#4169E1" },
    { label: "GraphQL / REST", icon: "graphql", color: "#E10098" },
    { label: "AWS / Azure", icon: "aws", color: "#FF9900" },
];

const defaultRightTechItems = [
    { label: "Docker / CI-CD", icon: "docker", color: "#2496ED" },
    { label: "Kafka / Redis", icon: "kafka", color: "#ffffff" },
    { label: "Auth0 / IAM", icon: "auth0", color: "#EB5424" },
    { label: "Prometheus / ELK", icon: "prometheus", color: "#E6522C" },
    { label: "Kubernetes / K8s", icon: "kubernetes", color: "#326CE5" },
];

interface TechItem {
    label: string;
    icon: string;
    color: string;
}

interface IntegrationsSectionProps {
    title?: string;
    titleHighlight?: string;
    leftTechItems?: TechItem[];
    rightTechItems?: TechItem[];
    description?: string;
}

export function IntegrationsSection({
    title = "Our Advanced Technology Stack",
    titleHighlight = "for Custom Software Development",
    leftTechItems = defaultLeftTechItems,
    rightTechItems = defaultRightTechItems,
    description = "Technology decisions are driven by your requirements â€” not our preferences. We select the right stack based on scalability needs, team capabilities, integration requirements, and long-term maintenance strategy.",
}: IntegrationsSectionProps) {
    const containerRef = useRef<HTMLDivElement>(null);

    // Left side refs (5 nodes)
    const leftRef1 = useRef<HTMLDivElement>(null);
    const leftRef2 = useRef<HTMLDivElement>(null);
    const leftRef3 = useRef<HTMLDivElement>(null);
    const leftRef4 = useRef<HTMLDivElement>(null);
    const leftRef5 = useRef<HTMLDivElement>(null);

    // Center ref
    const centerRef = useRef<HTMLDivElement>(null);

    // Right side refs (5 nodes)
    const rightRef1 = useRef<HTMLDivElement>(null);
    const rightRef2 = useRef<HTMLDivElement>(null);
    const rightRef3 = useRef<HTMLDivElement>(null);
    const rightRef4 = useRef<HTMLDivElement>(null);
    const rightRef5 = useRef<HTMLDivElement>(null);

    const leftRefs = [leftRef1, leftRef2, leftRef3, leftRef4, leftRef5];
    const rightRefs = [rightRef1, rightRef2, rightRef3, rightRef4, rightRef5];
    const curvatures = [-50, -25, 0, 25, 50];

    return (
        <section className="w-full py-20 lg:py-32 bg-black">
            <div className="max-w-[90rem] mx-auto px-4 md:px-6 lg:px-8">
                {/* Section Header */}
                <div className="mb-16 max-w-4xl">
                    <h2 className="font-bold text-white leading-[1.1]" style={{ fontSize: 'clamp(2.5rem, 6vw, 5rem)' }}>
                        {title}
                        {titleHighlight && (
                            <>
                                <br />
                                <span className="text-neutral-500">{titleHighlight}</span>
                            </>
                        )}
                    </h2>
                </div>

                {/* Animated Beam Diagram */}
                <div
                    className="relative flex h-[500px] md:h-[600px] w-full items-center justify-center overflow-hidden p-6 md:p-10"
                    ref={containerRef}
                >
                    <div className="flex size-full max-w-5xl items-center justify-between gap-4 md:gap-8">
                        {/* Left Column */}
                        <div className="flex flex-col gap-6 md:gap-8">
                            {leftTechItems.slice(0, 5).map((item, index) => {
                                const IconComponent = Icons[item.icon];
                                return (
                                    <div key={index} className="flex items-center gap-3">
                                        <span className="text-white text-xs md:text-sm font-medium text-right w-20 md:w-24 hidden sm:block">
                                            {item.label}
                                        </span>
                                        <Circle ref={leftRefs[index]}>
                                            {IconComponent ? <IconComponent /> : null}
                                        </Circle>
                                    </div>
                                );
                            })}
                        </div>

                        {/* Center - Favicon Logo */}
                        <div
                            ref={centerRef}
                            className="z-10 flex size-20 md:size-24 items-center justify-center rounded-full border-2 border-neutral-200 bg-white p-4 shadow-[0_0_30px_rgba(6,182,212,0.3)]"
                        >
                            <Image
                                src="/favicon_io/favicon-32x32.png"
                                alt="Logo"
                                width={48}
                                height={48}
                                className="w-10 h-10 md:w-12 md:h-12"
                            />
                        </div>

                        {/* Right Column */}
                        <div className="flex flex-col gap-6 md:gap-8">
                            {rightTechItems.slice(0, 5).map((item, index) => {
                                const IconComponent = Icons[item.icon];
                                return (
                                    <div key={index} className="flex items-center gap-3">
                                        <Circle ref={rightRefs[index]}>
                                            {IconComponent ? <IconComponent /> : null}
                                        </Circle>
                                        <span className="text-white text-xs md:text-sm font-medium w-20 md:w-24 hidden sm:block">
                                            {item.label}
                                        </span>
                                    </div>
                                );
                            })}
                        </div>
                    </div>

                    {/* Beams from left side to center */}
                    {leftTechItems.slice(0, 5).map((item, index) => (
                        <AnimatedBeam
                            key={`left-${index}`}
                            containerRef={containerRef}
                            fromRef={leftRefs[index]}
                            toRef={centerRef}
                            curvature={curvatures[index]}
                            gradientStartColor={item.color}
                            gradientStopColor={item.color}
                        />
                    ))}

                    {/* Beams from center to right side (reverse) */}
                    {rightTechItems.slice(0, 5).map((item, index) => (
                        <AnimatedBeam
                            key={`right-${index}`}
                            containerRef={containerRef}
                            fromRef={rightRefs[index]}
                            toRef={centerRef}
                            curvature={curvatures[index]}
                            reverse
                            gradientStartColor={item.color}
                            gradientStopColor={item.color}
                        />
                    ))}
                </div>

                {/* Description text below beam */}
                {description && (
                    <div className="mt-12 max-w-3xl mx-auto text-center">
                        <p className="text-neutral-400 text-base md:text-lg leading-relaxed">
                            {description}
                        </p>
                    </div>
                )}
            </div>
        </section>
    );
}
